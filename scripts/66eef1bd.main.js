!function(){window.App=Ember.Application.create({})}(),function(){App.ApplicationController=Ember.Controller.extend({isIndex:function(){return"index"===this.get("currentPath")}.property("currentPath"),actions:{transitionUp:function(){var a=this.get("currentPath").split(".");"index"===a.pop()&&a.pop(),0===a.length?this.transitionToRoute("index"):this.transitionToRoute(a.join("."))}}})}(),function(){App.GottesdienstController=Ember.ObjectController.extend({splittedEinteilungen:function(){var a=this.get("model.einteilungen"),b=[],c=null;return a.forEach(function(a,d){d%2===0?(c=Ember.Object.create({links:a}),b.push(c)):c.rechts=a}),Ember.A(b)}.property("einteilungen.@each")})}(),function(){App.MiniplaeneEditController=Ember.ObjectController.extend({ministrants:[]})}(),function(){App.MinistrantController=Ember.ObjectController.extend({actions:{save:function(){this.get("model").save()},revert:function(){this.get("model").rollback()}}})}(),function(){App.ContactPossibility=DS.Model.extend({protocol:DS.attr("string"),value:DS.attr("string"),receiveSchedule:DS.attr("string"),htmlInputType:function(){switch(this.get("protocol")){case"mailto":return"email";case"tel":return"tel"}}.property("protocol")}),App.ContactPossibility.FIXTURES=[{id:101,protocol:"mailto",value:"max@example.com",receiveSchedule:"f"},{id:102,protocol:"tel",value:"012454 67890",receiveSchedule:"f"},{id:201,protocol:"mailto",value:"melanie@example.com",receiveSchedule:"f"}]}(),function(){App.Einteilung=DS.Model.extend({gottesdienst:DS.belongsTo("gottesdienst"),ministrant:DS.belongsTo("ministrant")}),App.Einteilung.FIXTURES=[{id:1,gottesdienst:1,ministrant:1},{id:2,gottesdienst:1,ministrant:2}]}(),function(){App.Gottesdienst=DS.Model.extend({date:DS.attr("date"),time:DS.attr("time"),annotation:DS.attr("string"),einteilungen:DS.hasMany("einteilung",{async:!0})}),App.Gottesdienst.FIXTURES=[{id:1,date:"2013-12-24",time:"18:30",annotation:"Heilig Abend",einteilungen:[1,2]},{id:2,date:"2013-12-29",time:"09:00",einteilungen:[]},{id:3,date:"2014-01-01",time:"10:30",annotation:"Neujahr",einteilungen:[]}]}(),function(){App.Miniplan=DS.Model.extend({gottesdienste:DS.hasMany("gottesdienst",{async:!0}),internalTitle:DS.attr("string")}),App.Miniplan.FIXTURES=[{id:1,internalTitle:"Weihnachten 2013",gottesdienste:[1,2,3]}]}(),function(){App.Ministrant=DS.Model.extend({givenName:DS.attr("string"),surName:DS.attr("string"),contactPossibilities:DS.hasMany("ContactPossibility",{async:!0}),shortenedName:function(){var a=(""+this.get("surName")).split(" ");return this.get("givenName")+" "+a.map(function(a){return(""+a).slice(0,1)+"."}).join(" ")}.property("givenName","surName")}),App.Ministrant.FIXTURES=[{id:1,givenName:"Max",surName:"Mustermann",contactPossibilities:[101,102]},{id:2,givenName:"Melanie",surName:"Musterfrau",contactPossibilities:[201]}]}(),function(){App.Store=DS.Store.extend({adapter:DS.FixtureAdapter})}(),function(){App.MiniplaeneEditRoute=Ember.Route.extend({model:function(a){return this.get("store").find("miniplan",a.miniplan_id)},setupController:function(a,b){a.set("model",b),a.set("ministrants",this.get("store").find("ministrant"))}})}(),function(){App.MiniplaeneIndexRoute=Ember.Route.extend({model:function(){return this.get("store").findAll("miniplan")}})}(),function(){App.MinistrantsIndexRoute=Ember.Route.extend({model:function(){return this.get("store").findAll("ministrant")}})}(),function(){App.ApplicationView=Ember.View.extend({didInsertElement:function(){$(document).foundation()}})}(),function(){App.Router.map(function(){this.resource("ministrants",{path:"ministranten"},function(){this.route("edit",{path:"/:ministrant_id"}),this.route("new")}),this.resource("miniplaene",function(){this.route("edit",{path:"/:miniplan_id"})})})}();